/*
 * Global styles for the Pure Energy customer report application.
 * Defines a soft brand colour palette and common components such as cards and buttons.
 */

/* CSS variables for easy theming */
:root {
  --brand: #00BED6;       /* Pure Energy brand blue */
  --bg: #F5FAFC;          /* light page background */
  --card: #FFFFFF;        /* card background */
  --text: #0B1821;        /* primary text colour */
  --muted: #637A91;       /* soft grey body copy */
  --radius: 12px;         /* border radius for cards/buttons */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* subtle shadow */
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Noto Sans TC', sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* Header containing the brand banner */
/* Header containing the brand banner */
.header {
  /* Header spans full width but centers its contents so that the banner never exceeds
     the same maximum width as the rest of the page.  We keep the background the
     same colour as the page to avoid contrasting edges. */
  width: 100%;
  background: var(--bg);
  color: #ffffff;
  padding: 0;
  display: flex;
  justify-content: center;
}

.header .banner {
  display: block;
  /* Restrict banner width to be no wider than the page content and centre it horizontally. */
  width: 100%;
  max-width: 900px;
  height: auto; /* 自動高度以適配圖片 */
  /* 移除最大高度限制，讓圖片完整顯示 */
  object-fit: contain; /* 保持比例並完整顯示圖片 */
  object-position: center; /* 圖片居中顯示 */
  margin: 0 auto;
}

/* Main container for page content */
.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 24px;
}

/* Intro section (問候語與按鈕) */
.intro-section {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin-bottom: 24px;
}

/* Generic section button (保養紀錄、提提你) */
.section-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: var(--radius);
  padding: 14px 0;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  margin-top: 16px;
  cursor: default;
}

/* Next date text styling */
.next-date {
  font-size: 0.9rem;
  margin-bottom: 16px;
  color: var(--text);
}

/* Maintenance scroll container: horizontal scroll with snap */
.maintenance-scroll {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  margin-bottom: 16px;
}

/* Each image slide inside maintenance scroll */
.maintenance-scroll .slide {
  flex: 0 0 80%;
  scroll-snap-align: center;
}
.maintenance-scroll .slide img {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  object-fit: cover;
  aspect-ratio: 4 / 5;
}

/* Video stack: display videos vertically */
.video-stack {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 16px;
}

/* Video player styling */
.video-stack video {
  width: 100%;
  height: auto;
  border-radius: var(--radius);
  background: #f5f5f5;
}

/* Play overlay on videos: reuse previous styling but enlarge for clarity */
.play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s ease;
  z-index: 2;
}
.play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}
.video-wrap {
  position: relative;
  width: 100%;
}

/* Services section styling */
.services-section {
  margin-top: 24px;
}
.services-section img {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: block;
}

/* Referral section styling */
.referral-section {
  margin-top: 24px;
  text-align: center;
}
.referral-image-container {
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
}
.referral-image-container img {
  width: 100%;
  display: block;
  border-radius: var(--radius);
}
.referral-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  padding: 16px;
  pointer-events: none;
}
.referral-title {
  color: #ffffff;
  font-size: 1.4rem;
  font-weight: 700;
  line-height: 1.3;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
.share-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: var(--radius);
  padding: 14px 0;
  font-size: 1rem;
  font-weight: 600;
  margin-top: 12px;
  cursor: default;
}

/* Section titles */
.section-title {
  font-size: 1.4rem;
  font-weight: 700;
  margin-top: 0;
  margin-bottom: 12px;
  color: var(--text);
}

/* Grid for displaying multiple images */
.report-images {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.report-images img {
  flex: 1 1 calc(33.333% - 12px);
  max-width: calc(33.333% - 12px);
  border-radius: var(--radius);
  object-fit: cover;
  box-shadow: var(--shadow);
  /* 保持圖片正方形比例，類似微信排版 */
  aspect-ratio: 1 / 1;
}

/* Video grid: display fixed videos in a grid layout */
.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
}
.video-grid video {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: #000;

  /* 提高影片 z-index 以便覆蓋層可以在其之上使用較高的 z-index */
  position: relative;
  z-index: 1;
}

/* 包裹影片的容器，用於放置自定義播放按鈕 */
.video-wrap {
  position: relative;
  width: 100%;
}
/* 自定義播放按鈕覆蓋在影片上方 */
.play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s ease;

  /* 確保播放覆蓋層在影片之上 */
  z-index: 2;
}
.play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}
/* 播放中隱藏覆蓋按鈕 */
.video-wrap.video-playing .play-overlay {
  display: none;
}

/* Poster and wrapper styling */
.poster-wrap {
  margin-top: 12px;
}
.poster {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: block;
}

/* 強調標題顏色，用於保養紀錄和提提你區塊 */
.highlight-title {
  color: var(--brand);
}

/* ==========================
   新版回訪頁面樣式
   ==========================
   以下樣式覆蓋舊版設計，按 MAQUA XD 模板重新排版。
*/

/* 全局設置：白底主背景與行動裝置友善寬度 */
body {
  background: #FFFFFF;
  color: var(--text);
  font-family: 'Noto Sans TC', sans-serif;
  line-height: 1.5;
}

/* 重新定義頂部橫幅，使用全寬圖片 */
header.header {
  background: var(--brand);
  text-align: center;
  overflow: hidden;
}
header.header .banner {
  width: 100%;
  height: auto;
  display: block;
  object-fit: contain;
  margin: 0;
}

/* 主內容容器：限制最大寬度為 480px，適合手機瀏覽 */
.container {
  max-width: 520px;
  margin: 0 auto;
  padding: 24px 24px 40px;
}

/* 問候卡片：圓角白底陰影，與橫幅微距離 */
.intro-card {
  background: #FFFFFF;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  padding: 24px;
  margin-top: -40px;
  margin-bottom: 28px;
  position: relative;
  z-index: 1;
}

/* 通用按鈕（保養紀錄、提提你、分享好友） */
.btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: 40px;
  padding: 12px 0;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  margin: 24px 0;
  cursor: default;
}

/* 水平滾動圖片容器：支持手指拖曳，scroll-snap 對齊 */
.slides-wrapper {
  display: flex;
  gap: 18px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  margin: 24px 0 28px;
}
.slides-wrapper .slide {
  flex: 0 0 80%;
  scroll-snap-align: center;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  background: #F7F7F7;
}
.slides-wrapper .slide img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

/* 下一次保養日期與問卷訊息 */
.next-date-text {
  font-size: 0.9rem;
  /* 使用中性色調的深灰色，使文本不會過於突出 */
  color: var(--muted);
  margin: 16px 0 28px;
}
.survey-msg {
  font-size: 0.85rem;
  color: var(--muted);
  line-height: 1.4;
  margin-bottom: 24px;
}

/* 影片區域：垂直堆疊影片 */
.videos-section {
  display: flex;
  flex-direction: column;
  gap: 24px;
  margin: 32px 0;
}
.videos-section .video-item {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  background: #F5F5F5;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);
}
.videos-section .video-item video {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 16px;
}
.videos-section .play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 2;
}
.videos-section .play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.videos-section .play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}

/* 影片標題覆蓋：顯示在影片預覽底部的文字，用於簡要描述影片內容 */
.videos-section .caption {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 12px 16px;
  font-size: 0.95rem;
  font-weight: 600;
  color: #FFFFFF;
  text-align: center;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.65) 100%);
  z-index: 3;
  pointer-events: none;
}

/* 服務區塊 */
.services-wrapper {
  margin-top: 40px;
  text-align: center;
}
.services-title {
  display: inline-block;
  background: var(--brand);
  color: #FFFFFF;
  border-radius: 40px;
  padding: 8px 20px;
  font-weight: 600;
  margin-bottom: 16px;
  font-size: 1rem;
}
.services-wrapper img {
  width: 100%;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  display: block;
}

/* 推薦朋友區塊 */
.referral-wrapper {
  margin-top: 40px;
  text-align: center;
}
.referral-img-box {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.referral-img-box img {
  width: 100%;
  height: auto;
  display: block;
}
.referral-img-box .referral-text {
  position: absolute;
  top: 16px;
  left: 16px;
  color: #FFFFFF;
  font-weight: 700;
  font-size: 1.4rem;
  line-height: 1.3;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.share-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: 40px;
  padding: 12px 0;
  font-size: 1rem;
  font-weight: 600;
  margin-top: 12px;
  cursor: default;
}

/* 放大圖片/影片遮罩 */
#imageOverlay, #videoOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}
#imageOverlay img, #videoOverlay video {
  max-width: 90%;
  max-height: 90%;
  border-radius: 16px;
}

/* 錨點顏色使用品牌色 */
a {
  color: var(--brand);
  text-decoration: none;
}

/* 下一次保養區塊中的日期採用品牌色突出顯示 */
.next-date-text strong {
  color: var(--brand);
}

/* -------------------------------------------------------------------------
   Override ghost styling on maintenance slides
   ------------------------------------------------------------------------- */
/*
  為了避免舊版輪播的半透明縮放效果影響清晰度，
  為 maintenance slides 指定完全不透明且不縮放。
*/
.slides-wrapper .slide {
  opacity: 1;
  transform: scale(1);
}

/* 問候語中粗體文字採品牌色 */
.greeting-text strong {
  color: var(--brand);
}

/* 調整影片卡片比例為直式 3:5（寬:高） */
.videos-section .video-item {
  /* 使用較為寬屏的比例，以減少預覽高度（影片預覽不佔過大空間） */
  aspect-ratio: 16 / 9;
  /* 另外限制最大高度，避免影片預覽佔用過大空間 */
  max-height: 240px;
}

/* 圖片輪播區塊 */
.carousel {
  position: relative;
  width: 100%;
  /* Remove extra horizontal padding; overflow hidden to hide scrollbars */
  overflow: hidden;
  padding: 0;
}
.slides-container {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}
.slide {
  /* Each slide takes up 86% of the carousel width, leaving room for previews */
  flex: 0 0 86%;
  position: relative;
  opacity: 0.55;
  transform: scale(0.97);
  transition: opacity 0.25s ease, transform 0.25s ease;
  scroll-snap-align: center;
}
.slide img {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  object-fit: cover;
  /* Default image ratio for slides */
  aspect-ratio: 3 / 4;
}

/* Active slide is fully opaque and slightly larger */
.slide.active {
  opacity: 1;
  transform: scale(1);
}
.carousel-controls {
  text-align: center;
  margin-top: 12px;
}
.carousel-btn {
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: var(--radius);
  padding: 8px 12px;
  /* Bigger arrows for better mobile usability */
  font-size: 2rem;
  cursor: pointer;
  margin: 0 4px;
}
.carousel-btn:disabled {
  opacity: 0.5;
  cursor: default;
}

/* 提示區塊的圖片樣式 */
.tip-image {
  display: block;
  width: 100%;
  margin-top: 12px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 公司介紹圖片區塊樣式 */
.company-intro-img {
  width: 100%;
  display: block;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 在較小的螢幕上改為兩欄顯示圖片 */
@media (max-width: 600px) {
  .report-images img {
    flex: 1 1 calc(50% - 12px);
    max-width: calc(50% - 12px);
  }

  /* 在小螢幕上縮小容器內邊距，避免內容看起來偏左 */
  .container {
    padding: 16px;
  }

  /* 調整輪播在小螢幕的間距，但保留左右半露圖片效果 */
  .slides-container {
    gap: 8px;
  }
  /* 調整幻燈片內圖片比例，使其在手機上更合適 */
  .slide img {
    aspect-ratio: 4 / 5;
  }
}

/* 手機版響應式設計 - 優化整體頁面為手機查看大小 */
@media (max-width: 768px) {
  /* 主標題調整 */
  .main-title {
    font-size: 2rem;
    margin-bottom: 16px;
  }
  
  /* 副標題調整 */
  .subtitle {
    font-size: 1rem;
    margin-bottom: 24px;
  }
  
  /* 描述文字調整 */
  .description {
    font-size: 0.9rem;
    margin-bottom: 12px;
  }
  
  /* 服務按鈕調整 */
  .service-btn {
    padding: 10px 24px;
    font-size: 0.9rem;
    margin: 24px 0 8px 0;
  }
  
  /* 服務日期調整 */
  .service-date {
    font-size: 0.9rem;
  }
  
  /* 影片區域調整 */
  .videos-section {
    gap: 20px;
  }
  
  .video-thumbnails {
    gap: 16px;
  }
  
  .video-item {
    max-height: 200px;
  }
  
  .video-title {
    font-size: 0.85rem;
    padding: 8px 12px;
  }
  
  /* 服務區塊調整 */
  .services-wrapper {
    margin-top: 32px;
  }
  
  .services-title {
    font-size: 0.9rem;
    padding: 6px 16px;
    margin-bottom: 12px;
  }
  
  /* 推薦朋友區塊調整 */
  .referral-wrapper {
    margin-top: 32px;
  }
  
  .referral-img-box .referral-text {
    font-size: 1.2rem;
    top: 12px;
    left: 12px;
  }
  
  .share-btn {
    padding: 10px 0;
    font-size: 0.9rem;
    margin-top: 10px;
  }
  
  /* 報告頁面手機版調整 */
  body.report-page main.container {
    max-width: 100%;
    padding: 20px 16px 40px;
    gap: 24px;
  }
  
  body.report-page .intro-card {
    margin-top: -24px;
    padding: 20px 16px;
  }
  
  body.report-page .greeting-emoji {
    font-size: 1.5rem;
  }
  
  body.report-page .greeting-lines p,
  body.report-page .greeting-note {
    font-size: 0.9rem;
  }
  
  body.report-page .status-board {
    padding: 14px 16px;
  }
  
  body.report-page .status-row {
    font-size: 0.9rem;
  }
  
  /* 輪播圖片調整 */
  .slides-wrapper .slide {
    flex: 0 0 85%;
  }
  
  .slides-wrapper .slide img {
    aspect-ratio: 3 / 4;
  }
  
  /* 按鈕調整 */
  .btn, .primary-btn {
    padding: 12px 0;
    font-size: 0.95rem;
  }
  
  /* 日期高亮框調整 */
  .date-highlight {
    padding: 0.2rem 0.6rem;
    font-size: 0.9rem;
  }
}

/* Upload section layout on the index page */
.upload-section {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.upload-section p {
  margin: 0;
  color: var(--muted);
  font-size: 0.98rem;
  line-height: 1.6;
}

.date-stack {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.field-label {
  display: block;
  font-weight: 600;
  font-size: 1.05rem;
  color: var(--text);
}

/* Preview area on the upload page */
.preview {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 0;
}

.preview img {
  max-width: 150px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* File input styling */
/* 檔案選擇輸入框：增大尺寸並統一邊框樣式 */
/* 檔案輸入本身不顯示，我們使用自訂按鈕觸發 */
.file-input {
  display: none;
}

/* 上傳照片按鈕樣式 */
.upload-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: calc(var(--radius) + 2px);
  padding: 16px 0;
  font-size: 1.08rem;
  font-weight: 600;
  text-align: center;
  margin: 0;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0, 190, 214, 0.18);
}

.upload-btn:hover {
  background: #009CB3;
}

/* General button styling */
button {
  display: inline-block;
  background: var(--brand);
  color: #ffffff;
  border: none;
  padding: 12px 20px;
  border-radius: var(--radius);
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  transition: background 0.2s ease;
}

button:hover {
  background: #009CB3; /* slightly darker brand shade on hover */
}

#generateBtn {
  width: 100%;
  padding: 16px 0;
  font-size: 1.05rem;
  box-shadow: 0 6px 18px rgba(0, 190, 214, 0.18);
}

/* 日期輸入框樣式 */
.date-input {
  display: block;
  width: 100%;
  /* 增大日期輸入框尺寸，讓其更易於操作 */
  padding: 16px 18px;
  border: 1px solid #CCCCCC;
  border-radius: calc(var(--radius) + 2px);
  font-size: 1.12rem;
  margin: 0;
  background: #ffffff;
  box-shadow: inset 0 2px 6px rgba(11, 24, 33, 0.04);
}

/* 影像放大顯示的遮罩層 */
#imageOverlay {
  display: none;            /* 默認隱藏 */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
#imageOverlay img {
  max-width: 90%;
  max-height: 90%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 視頻放大播放遮罩層 */
#videoOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
  z-index: 10000;
}
#videoOverlay video {
  max-width: 90%;
  max-height: 90%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* ------------------------------------------------------------------ */
/* New layout definitions for redesigned report page */

/* Main container limiting width for mobile layout */
.main-container {
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding: 0 16px 40px;
}

/* Banner wrapper and image */
.banner {
  width: 100%;
  overflow: hidden;
}
.banner-image {
  display: block;
  width: 100%;
  object-fit: cover;
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
}

/* Intro card with greeting and button */
.intro-card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px 20px;
  margin-top: -40px; /* overlap the banner */
  margin-bottom: 20px;
  position: relative;
  z-index: 1;
}
.greeting-text p {
  margin-top: 0;
  margin-bottom: 8px;
  font-size: 0.95rem;
  line-height: 1.5;
  /* 採用較為柔和的深灰色，使問候文案更貼近模板設計 */
  color: var(--muted);
}

/* Primary button shared by records, tip and share */
.primary-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: 999px;
  padding: 14px 0;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  margin-top: 16px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* Slides wrapper for maintenance photos */
.slides-wrapper {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 8px;
  margin-bottom: 8px;
}
.slides-wrapper .slide {
  flex: 0 0 80%;
  background: #F0FAFC;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  scroll-snap-align: center;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px;
}
.slides-wrapper .slide img {
  width: 100%;
  height: auto;
  object-fit: cover;
  border-radius: var(--radius);
  aspect-ratio: 4 / 5;
}

/* Next date text styling */
/* 下一次保養日期與問卷訊息：套用一致的深灰色 */
.next-date-text {
  font-size: 0.9rem;
  color: var(--muted);
  margin-bottom: 24px;
}

/* Videos wrapper */
.videos-wrapper {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-bottom: 32px;
}
.video-box {
  position: relative;
  background: #F7F7F7;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.video-box video {
  width: 100%;
  display: block;
  border-radius: var(--radius);
  background: #F7F7F7;
}
.video-box .play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
}
.video-box .play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.video-box .play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}

/* Services wrapper and pill title */
/* 調整服務區塊樣式：簡化為置中，避免重複背景與標題 */
.services-wrapper {
  margin-top: 32px;
  text-align: center;
}
/* 不再使用獨立的 services-title 與 services-img 定義，留空以避免覆蓋 */
.services-title {
}
.services-img {
}

/* Referral wrapper */
.referral-wrapper {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin-top: 40px;
  padding: 16px;
  text-align: center;
}
.referral-image-box {
  border-radius: var(--radius);
  overflow: hidden;
}
.referral-img {
  width: 100%;
  display: block;
  border-radius: var(--radius);
}
.referral-wrapper .share-btn {
  margin-top: 16px;
}

/* ------------------------------------------------------------------ */
/* Final layout refinements for centred typography and spacing       */
/* ------------------------------------------------------------------ */
main.container {
  text-align: center;
  padding: 28px 24px 48px;
}

main.container > * + * {
  margin-top: 24px;
}

.intro-card {
  padding: 28px 24px;
  text-align: center;
  margin-top: -32px;
  box-shadow: 0 6px 16px rgba(11, 24, 33, 0.08);
}

.intro-card .greeting-text p {
  margin-bottom: 12px;
}

.intro-card .btn {
  margin-top: 20px;
}

#slidesContainer {
  margin: 0 auto;
}

#slidesContainer p {
  margin: 0;
}

.slides-wrapper {
  margin: 24px 0 28px;
  padding: 0;
}

.next-date-text {
  margin: 16px 0 28px;
}

.btn {
  margin: 24px 0;
}

.videos-section {
  margin: 32px 0;
  gap: 24px;
}

.videos-section .video-item {
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);
}

.videos-section .play-overlay {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 56px;
  height: 56px;
  padding: 0;
  border: none;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  z-index: 4;
}

.videos-section .play-overlay::before {
  content: "";
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 12px 0 12px 18px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.85);
  transform: translateX(2px);
}

.videos-section .play-overlay::after {
  content: none;
}

.videos-section .play-overlay:focus-visible {
  outline: 2px solid rgba(0, 190, 214, 0.6);
  outline-offset: 2px;
}

.videos-section .play-overlay:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 22px rgba(9, 30, 66, 0.2);
}

.services-wrapper,
.referral-wrapper {
  margin-left: auto;
  margin-right: auto;
}

.referral-wrapper {
  padding: 0;
}

.referral-wrapper .share-btn {
  margin-top: 24px;
}

/* 報告頁面最終排版調整：加大間距與容器寬度 */
body.report-page {
  background: #f7fbfd;
  color: var(--muted);
}

body.report-page main.container {
  max-width: 640px;
  padding: 36px 36px 64px;
  display: flex;
  flex-direction: column;
  gap: 36px;
  text-align: left;
}

body.report-page main.container > * + * {
  margin-top: 0;
}

body.report-page .intro-card {
  margin-top: -44px;
  margin-bottom: 0;
  padding: 32px 28px;
  box-shadow: 0 8px 24px rgba(11, 24, 33, 0.08);
  display: flex;
  flex-direction: column;
  gap: 24px;
  text-align: left;
  color: var(--muted);
}

body.report-page .greeting-text {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

body.report-page .greeting-block {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

body.report-page .greeting-emoji {
  font-size: 1.75rem;
  line-height: 1;
  color: var(--brand);
}

body.report-page .greeting-lines {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

body.report-page .greeting-lines p {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
}

body.report-page .greeting-note {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
}

body.report-page .greeting-note span {
  color: var(--brand);
  font-weight: 600;
}

body.report-page .greeting-lines p:first-child {
  font-weight: 600;
}

body.report-page .greeting-subline {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
  font-weight: 500;
}

body.report-page .status-board {
  background: #F1F6FA;
  border-radius: 16px;
  border: 1px solid rgba(0, 190, 214, 0.15);
  padding: 18px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

body.report-page .status-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  font-size: 0.95rem;
}

body.report-page .status-row + .status-row {
  border-top: 1px solid rgba(11, 24, 33, 0.08);
  padding-top: 10px;
}

body.report-page .status-label {
  font-weight: 600;
  color: var(--muted);
}

body.report-page .status-value {
  color: var(--brand);
  font-weight: 600;
  text-decoration: none;
  word-break: break-word;
}

body.report-page .status-link:hover,
body.report-page .status-link:focus {
  text-decoration: underline;
}

body.report-page .intro-card .btn {
  margin: 0;
}

body.report-page .slides-wrapper,
body.report-page .next-date-text,
body.report-page .videos-section,
body.report-page .services-wrapper,
body.report-page .referral-wrapper {
  margin: 0;
}

body.report-page .videos-section {
  gap: 28px;
}

body.report-page .next-date-text {
  text-align: center;
}

body.report-page .btn.tip-btn {
  margin: 0;
}

body.report-page .services-wrapper,
body.report-page .referral-wrapper {
  width: 100%;
}

body.report-page .referral-wrapper .share-btn {
  margin: 16px auto 0;
}

/* 提提你按鈕樣式 */
.reminder-section {
  text-align: center;
  margin: 40px 0 30px 0;
  padding: 20px 0;
}

.reminder-btn {
  background: #00BED6;
  color: white;
  border: none;
  border-radius: 25px;
  padding: 12px 30px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 190, 214, 0.3);
  min-width: 120px;
}

.reminder-btn:hover {
  background: #00A5C0;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 190, 214, 0.4);
}

/* 視頻縮略圖樣式 */
.video-thumbnails {
  display: flex;
  gap: 20px;
  margin: 40px 0 50px 0;
  justify-content: center;
  flex-wrap: wrap;
  padding: 20px 0;
}

.video-item {
  width: 300px;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.video-item:hover {
  transform: scale(1.05);
}

.video-thumbnail {
  position: relative;
  width: 100%;
  height: 200px;
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.video-poster {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.3s ease;
}

.video-item:hover .play-overlay {
  background: rgba(0, 0, 0, 0.6);
}

.play-button {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: #333;
  transition: all 0.3s ease;
}

.video-item:hover .play-button {
  background: white;
  transform: scale(1.1);
}

.video-title {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
  color: white;
  padding: 30px 20px 20px;
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  line-height: 1.4;
}

/* 響應式設計 */
@media (max-width: 768px) {
  .video-thumbnails {
    flex-direction: column;
    align-items: center;
  }
  
  .video-item {
    width: 100%;
    max-width: 350px;
  }
}

/* 圖片下方文案區域樣式 - 按照圖片設計 */
.maintenance-info {
  margin: 3rem 0;
  padding: 2rem 1rem;
  text-align: center;
}

/* 服務通知框框樣式 - 整句話都有框框和主題顏色 */
.service-notice {
  display: inline-block;
  padding: 0.8rem 1.2rem;
  background-color: var(--brand);
  color: white;
  border-radius: 8px;
  font-weight: 500;
  margin-bottom: 1rem;
  font-size: 1rem;
  line-height: 1.4;
  white-space: normal; /* 允許換行 */
  max-width: 100%; /* 限制最大寬度 */
  word-wrap: break-word; /* 長單詞換行 */
}

/* 手機版適配 */
@media (max-width: 768px) {
  .service-notice {
    display: block; /* 在手機上改為塊級元素 */
    text-align: center;
    padding: 1rem;
    font-size: 0.9rem;
    line-height: 1.5;
    margin: 0 auto 1rem auto;
    max-width: 90%; /* 手機上限制寬度 */
  }
  
  /* 保養日期區域手機版樣式 */
  .service-dates-section {
    padding: 15px 10px;
  }
  
  .date-buttons {
    flex-direction: row;
    gap: 0;
    max-width: 300px;
  }
  
  .date-button {
    padding: 12px 15px;
  }
  
  .date-label {
    font-size: 0.9rem;
  }
  
  .date-value {
    font-size: 0.8rem;
  }
}

/* 日期高亮框框樣式 - 主題顏色 */
.date-highlight {
  display: inline-block;
  padding: 0.3rem 0.8rem;
  background-color: var(--brand);
  color: white;
  border-radius: 6px;
  font-weight: 500;
  margin: 0 0.2rem;
}

.feedback-text {
  font-size: 1rem;
  color: #333;
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

.feedback-link {
  font-size: 1rem;
  color: var(--brand);
  text-decoration: none;
  word-break: break-all;
}

.feedback-link:hover {
  text-decoration: underline;
}

/* 提提你內容區域樣式 */
body.report-page .tip-content-section {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 20px;
}

body.report-page .full-design-image {
  width: 100%;
  display: flex;
  justify-content: center;
}

body.report-page .full-design-image img {
  width: 100%;
  max-width: 100%;
  height: auto;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

body.report-page .tip-item {
  width: 100%;
  display: flex;
  justify-content: center;
}

body.report-page .tip-item img {
  width: 100%;
  max-width: 100%;
  height: auto;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

body.report-page .tip-item img[style*="cursor: pointer"]:hover {
  transform: scale(1.02);
  transition: transform 0.2s ease;
}

@media (max-width: 600px) {
  body.report-page main.container {
    padding: 24px 20px 44px;
    gap: 28px;
  }

  body.report-page .intro-card {
    margin-top: -36px;
    padding: 28px 22px;
  }
  
  body.report-page .tip-content-section {
    gap: 16px;
    margin-top: 16px;
  }
}

/* 服務小回顧區域樣式 */
.service-feedback-section {
  text-align: center;
  padding: 40px 20px;
  background: var(--bg);
}

.main-title {
  font-size: 2.5rem;
  font-weight: bold;
  color: #00BED6;
  margin: 0 0 20px 0;
  letter-spacing: 1px;
}

.subtitle {
  font-size: 1.1rem;
  color: #00BED6;
  margin: 0 0 30px 0;
  font-weight: normal;
}

.description {
  font-size: 1rem;
  color: #666666;
  margin: 0 0 15px 0;
  line-height: 1.6;
}

/* 保養日期區域樣式 - 完全仿照參考圖片設計 */
.service-dates-section {
  text-align: center;
  padding: 20px;
  background: var(--bg);
}

.date-buttons {
  display: flex;
  justify-content: center;
  gap: 0;
  max-width: 400px;
  margin: 0 auto;
}

.date-button {
  flex: 1;
  padding: 15px 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  border: none;
  font-family: inherit;
}

.date-button.current-service {
  background: #00BED6;
  color: white;
  border-radius: 25px 0 0 25px;
}

.date-button.next-service {
  background: white;
  color: #00BED6;
  border: 2px solid #00BED6;
  border-left: none;
  border-radius: 0 25px 25px 0;
}

.date-label {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 5px;
}

.date-value {
  font-size: 0.9rem;
  font-weight: 500;
}

.service-btn {
  background: #00BED6;
  color: white;
  border: none;
  border-radius: 25px;
  padding: 12px 30px;
  font-size: 1rem;
  font-weight: 600;
  margin: 30px 0 10px 0;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.service-btn:hover {
  background: #009BB3;
}

.service-date {
  font-size: 1rem;
  color: #00BED6;
  margin: 0;
  font-weight: 500;
}

.videos-section .play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 2;
}
.videos-section .play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.videos-section .play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}

/* 影片標題覆蓋：顯示在影片預覽底部的文字，用於簡要描述影片內容 */
.videos-section .caption {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 12px 16px;
  font-size: 0.95rem;
  font-weight: 600;
  color: #FFFFFF;
  text-align: center;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.65) 100%);
  z-index: 3;
  pointer-events: none;
}

/* 服務區塊 */
.services-wrapper {
  margin-top: 40px;
  text-align: center;
}
.services-title {
  display: inline-block;
  background: var(--brand);
  color: #FFFFFF;
  border-radius: 40px;
  padding: 8px 20px;
  font-weight: 600;
  margin-bottom: 16px;
  font-size: 1rem;
}
.services-wrapper img {
  width: 100%;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  display: block;
}

/* 推薦朋友區塊 */
.referral-wrapper {
  margin-top: 40px;
  text-align: center;
}
.referral-img-box {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.referral-img-box img {
  width: 100%;
  height: auto;
  display: block;
}
.referral-img-box .referral-text {
  position: absolute;
  top: 16px;
  left: 16px;
  color: #FFFFFF;
  font-weight: 700;
  font-size: 1.4rem;
  line-height: 1.3;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.share-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: 40px;
  padding: 12px 0;
  font-size: 1rem;
  font-weight: 600;
  margin-top: 12px;
  cursor: default;
}

/* 放大圖片/影片遮罩 */
#imageOverlay, #videoOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}
#imageOverlay img, #videoOverlay video {
  max-width: 90%;
  max-height: 90%;
  border-radius: 16px;
}

/* 錨點顏色使用品牌色 */
a {
  color: var(--brand);
  text-decoration: none;
}

/* 下一次保養區塊中的日期採用品牌色突出顯示 */
.next-date-text strong {
  color: var(--brand);
}

/* -------------------------------------------------------------------------
   Override ghost styling on maintenance slides
   ------------------------------------------------------------------------- */
/*
  為了避免舊版輪播的半透明縮放效果影響清晰度，
  為 maintenance slides 指定完全不透明且不縮放。
*/
.slides-wrapper .slide {
  opacity: 1;
  transform: scale(1);
}

/* 問候語中粗體文字採品牌色 */
.greeting-text strong {
  color: var(--brand);
}

/* 調整影片卡片比例為直式 3:5（寬:高） */
.videos-section .video-item {
  /* 使用較為寬屏的比例，以減少預覽高度（影片預覽不佔過大空間） */
  aspect-ratio: 16 / 9;
  /* 另外限制最大高度，避免影片預覽佔用過大空間 */
  max-height: 240px;
}

/* 圖片輪播區塊 */
.carousel {
  position: relative;
  width: 100%;
  /* Remove extra horizontal padding; overflow hidden to hide scrollbars */
  overflow: hidden;
  padding: 0;
}
.slides-container {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}
.slide {
  /* Each slide takes up 86% of the carousel width, leaving room for previews */
  flex: 0 0 86%;
  position: relative;
  opacity: 0.55;
  transform: scale(0.97);
  transition: opacity 0.25s ease, transform 0.25s ease;
  scroll-snap-align: center;
}
.slide img {
  width: 100%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  object-fit: cover;
  /* Default image ratio for slides */
  aspect-ratio: 3 / 4;
}

/* Active slide is fully opaque and slightly larger */
.slide.active {
  opacity: 1;
  transform: scale(1);
}
.carousel-controls {
  text-align: center;
  margin-top: 12px;
}
.carousel-btn {
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: var(--radius);
  padding: 8px 12px;
  /* Bigger arrows for better mobile usability */
  font-size: 2rem;
  cursor: pointer;
  margin: 0 4px;
}
.carousel-btn:disabled {
  opacity: 0.5;
  cursor: default;
}

/* 提示區塊的圖片樣式 */
.tip-image {
  display: block;
  width: 100%;
  margin-top: 12px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 公司介紹圖片區塊樣式 */
.company-intro-img {
  width: 100%;
  display: block;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 在較小的螢幕上改為兩欄顯示圖片 */
@media (max-width: 600px) {
  .report-images img {
    flex: 1 1 calc(50% - 12px);
    max-width: calc(50% - 12px);
  }

  /* 在小螢幕上縮小容器內邊距，避免內容看起來偏左 */
  .container {
    padding: 16px;
  }

  /* 調整輪播在小螢幕的間距，但保留左右半露圖片效果 */
  .slides-container {
    gap: 8px;
  }
  /* 調整幻燈片內圖片比例，使其在手機上更合適 */
  .slide img {
    aspect-ratio: 4 / 5;
  }
}

/* Upload section layout on the index page */
.upload-section {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.upload-section p {
  margin: 0;
  color: var(--muted);
  font-size: 0.98rem;
  line-height: 1.6;
}

.date-stack {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.field-label {
  display: block;
  font-weight: 600;
  font-size: 1.05rem;
  color: var(--text);
}

/* Preview area on the upload page */
.preview {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 0;
}

.preview img {
  max-width: 150px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* File input styling */
/* 檔案選擇輸入框：增大尺寸並統一邊框樣式 */
/* 檔案輸入本身不顯示，我們使用自訂按鈕觸發 */
.file-input {
  display: none;
}

/* 上傳照片按鈕樣式 */
.upload-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: calc(var(--radius) + 2px);
  padding: 16px 0;
  font-size: 1.08rem;
  font-weight: 600;
  text-align: center;
  margin: 0;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0, 190, 214, 0.18);
}

.upload-btn:hover {
  background: #009CB3;
}

/* General button styling */
button {
  display: inline-block;
  background: var(--brand);
  color: #ffffff;
  border: none;
  padding: 12px 20px;
  border-radius: var(--radius);
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  transition: background 0.2s ease;
}

button:hover {
  background: #009CB3; /* slightly darker brand shade on hover */
}

#generateBtn {
  width: 100%;
  padding: 16px 0;
  font-size: 1.05rem;
  box-shadow: 0 6px 18px rgba(0, 190, 214, 0.18);
}

/* 日期輸入框樣式 */
.date-input {
  display: block;
  width: 100%;
  /* 增大日期輸入框尺寸，讓其更易於操作 */
  padding: 16px 18px;
  border: 1px solid #CCCCCC;
  border-radius: calc(var(--radius) + 2px);
  font-size: 1.12rem;
  margin: 0;
  background: #ffffff;
  box-shadow: inset 0 2px 6px rgba(11, 24, 33, 0.04);
}

/* 影像放大顯示的遮罩層 */
#imageOverlay {
  display: none;            /* 默認隱藏 */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
#imageOverlay img {
  max-width: 90%;
  max-height: 90%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* 視頻放大播放遮罩層 */
#videoOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
  z-index: 10000;
}
#videoOverlay video {
  max-width: 90%;
  max-height: 90%;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* ------------------------------------------------------------------ */
/* New layout definitions for redesigned report page */

/* Main container limiting width for mobile layout */
.main-container {
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding: 0 16px 40px;
}

/* Banner wrapper and image */
.banner {
  width: 100%;
  overflow: hidden;
}
.banner-image {
  display: block;
  width: 100%;
  object-fit: cover;
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
}

/* Intro card with greeting and button */
.intro-card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px 20px;
  margin-top: -40px; /* overlap the banner */
  margin-bottom: 20px;
  position: relative;
  z-index: 1;
}
.greeting-text p {
  margin-top: 0;
  margin-bottom: 8px;
  font-size: 0.95rem;
  line-height: 1.5;
  /* 採用較為柔和的深灰色，使問候文案更貼近模板設計 */
  color: var(--muted);
}

/* Primary button shared by records, tip and share */
.primary-btn {
  display: block;
  width: 100%;
  background: var(--brand);
  color: #ffffff;
  border: none;
  border-radius: 999px;
  padding: 14px 0;
  font-size: 1rem;
  font-weight: 600;
  text-align: center;
  margin-top: 16px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* Slides wrapper for maintenance photos */
.slides-wrapper {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 8px;
  margin-bottom: 8px;
}
.slides-wrapper .slide {
  flex: 0 0 80%;
  background: #F0FAFC;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  scroll-snap-align: center;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px;
}
.slides-wrapper .slide img {
  width: 100%;
  height: auto;
  object-fit: cover;
  border-radius: var(--radius);
  aspect-ratio: 4 / 5;
}

/* Next date text styling */
/* 下一次保養日期與問卷訊息：套用一致的深灰色 */
.next-date-text {
  font-size: 0.9rem;
  color: var(--muted);
  margin-bottom: 24px;
}

/* Videos wrapper */
.videos-wrapper {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-bottom: 32px;
}
.video-box {
  position: relative;
  background: #F7F7F7;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.video-box video {
  width: 100%;
  display: block;
  border-radius: var(--radius);
  background: #F7F7F7;
}
.video-box .play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
}
.video-box .play-overlay::before {
  content: "";
  width: 68px;
  height: 68px;
  border-radius: 50%;
  background: rgba(240, 242, 245, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: block;
}
.video-box .play-overlay::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  border-style: solid;
  border-width: 14px 0 14px 22px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.8);
}

/* Services wrapper and pill title */
/* 調整服務區塊樣式：簡化為置中，避免重複背景與標題 */
.services-wrapper {
  margin-top: 32px;
  text-align: center;
}
/* 不再使用獨立的 services-title 與 services-img 定義，留空以避免覆蓋 */
.services-title {
}
.services-img {
}

/* Referral wrapper */
.referral-wrapper {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin-top: 40px;
  padding: 16px;
  text-align: center;
}
.referral-image-box {
  border-radius: var(--radius);
  overflow: hidden;
}
.referral-img {
  width: 100%;
  display: block;
  border-radius: var(--radius);
}
.referral-wrapper .share-btn {
  margin-top: 16px;
}

/* ------------------------------------------------------------------ */
/* Final layout refinements for centred typography and spacing       */
/* ------------------------------------------------------------------ */
main.container {
  text-align: center;
  padding: 28px 24px 48px;
}

main.container > * + * {
  margin-top: 24px;
}

.intro-card {
  padding: 28px 24px;
  text-align: center;
  margin-top: -32px;
  box-shadow: 0 6px 16px rgba(11, 24, 33, 0.08);
}

.intro-card .greeting-text p {
  margin-bottom: 12px;
}

.intro-card .btn {
  margin-top: 20px;
}

#slidesContainer {
  margin: 0 auto;
}

#slidesContainer p {
  margin: 0;
}

.slides-wrapper {
  margin: 24px 0 28px;
  padding: 0;
}

.next-date-text {
  margin: 16px 0 28px;
}

.btn {
  margin: 24px 0;
}

.videos-section {
  margin: 32px 0;
  gap: 24px;
}

.videos-section .video-item {
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);
}

.videos-section .play-overlay {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 56px;
  height: 56px;
  padding: 0;
  border: none;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 6px 18px rgba(9, 30, 66, 0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  z-index: 4;
}

.videos-section .play-overlay::before {
  content: "";
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 12px 0 12px 18px;
  border-color: transparent transparent transparent rgba(55, 65, 81, 0.85);
  transform: translateX(2px);
}

.videos-section .play-overlay::after {
  content: none;
}

.videos-section .play-overlay:focus-visible {
  outline: 2px solid rgba(0, 190, 214, 0.6);
  outline-offset: 2px;
}

.videos-section .play-overlay:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 22px rgba(9, 30, 66, 0.2);
}

.services-wrapper,
.referral-wrapper {
  margin-left: auto;
  margin-right: auto;
}

.referral-wrapper {
  padding: 0;
}

.referral-wrapper .share-btn {
  margin-top: 24px;
}

/* 報告頁面最終排版調整：加大間距與容器寬度 */
body.report-page {
  background: #f7fbfd;
  color: var(--muted);
}

body.report-page main.container {
  max-width: 640px;
  padding: 36px 36px 64px;
  display: flex;
  flex-direction: column;
  gap: 36px;
  text-align: left;
}

body.report-page main.container > * + * {
  margin-top: 0;
}

body.report-page .intro-card {
  margin-top: -44px;
  margin-bottom: 0;
  padding: 32px 28px;
  box-shadow: 0 8px 24px rgba(11, 24, 33, 0.08);
  display: flex;
  flex-direction: column;
  gap: 24px;
  text-align: left;
  color: var(--muted);
}

body.report-page .greeting-text {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

body.report-page .greeting-block {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

body.report-page .greeting-emoji {
  font-size: 1.75rem;
  line-height: 1;
  color: var(--brand);
}

body.report-page .greeting-lines {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

body.report-page .greeting-lines p {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
}

body.report-page .greeting-note {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
}

body.report-page .greeting-note span {
  color: var(--brand);
  font-weight: 600;
}

body.report-page .greeting-lines p:first-child {
  font-weight: 600;
}

body.report-page .greeting-subline {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.6;
  color: inherit;
  font-weight: 500;
}

body.report-page .status-board {
  background: #F1F6FA;
  border-radius: 16px;
  border: 1px solid rgba(0, 190, 214, 0.15);
  padding: 18px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

body.report-page .status-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  font-size: 0.95rem;
}

body.report-page .status-row + .status-row {
  border-top: 1px solid rgba(11, 24, 33, 0.08);
  padding-top: 10px;
}

body.report-page .status-label {
  font-weight: 600;
  color: var(--muted);
}

body.report-page .status-value {
  color: var(--brand);
  font-weight: 600;
  text-decoration: none;
  word-break: break-word;
}

body.report-page .status-link:hover,
body.report-page .status-link:focus {
  text-decoration: underline;
}

body.report-page .intro-card .btn {
  margin: 0;
}

body.report-page .slides-wrapper,
body.report-page .next-date-text,
body.report-page .videos-section,
body.report-page .services-wrapper,
body.report-page .referral-wrapper {
  margin: 0;
}

body.report-page .videos-section {
  gap: 28px;
}

body.report-page .next-date-text {
  text-align: center;
}

body.report-page .btn.tip-btn {
  margin: 0;
}

body.report-page .services-wrapper,
body.report-page .referral-wrapper {
  width: 100%;
}

body.report-page .referral-wrapper .share-btn {
